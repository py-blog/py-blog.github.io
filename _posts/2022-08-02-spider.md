---
title: Python爬虫
author: Zhang
date: 2022-08-02
category: code
layout: post
---

requests
---

BS4
-------------
```python
import requests
from bs4 import BeautifulSoup

url = 'https://www.bilibili.com/ranking'

# 发起网络请求
response = requests.get(url)
html_text = response.text
soup = BeautifulSoup(html_text,'html.parser')

# 提取列表
items = soup.findAll('li',{'class':'rank-item'})

for itm in items:
    title = itm.find('a',{'class':'title'}).text # 视频标题
    score = itm.find('div',{'class':'pts'}).find('div').text # 综合得分rank = itm.find('div' ,i'class ' : 'num' }).text#排名
    visit = itm.find('span',{'class': 'data-box'}).text # 播放量
    up = itm.find_ali('a')[2].text # 播放量
    space = itm.find_all('a')[2].get('href')
    up_id = space[len('//lspace.bilibili.com/'):] # 播放量-N

print(f'{up_id}')
```

